<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<body>
    <h1>Acceptor ("Sell-Side") Session Initiation</h1>
    <p>
    The acceptor expects the initiator to send a Logon message as the first
    message. For successful login, the authenticator responds with a
    confirming Logon message; otherwise the connection is terminated.
    </p>
    <div class="example">
        <table>
            <tr>
                <th>Initiator Request</th>
                <th>Resulting State</th>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Valid Logon</td>
                <td concordion:assertEquals="#state">Authenticated</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Logon with MsgSeqNum too high</td>
                <td concordion:assertEquals="#state">Out-of-sync</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Logon message with duplicate identity</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Logon message with unknown identity</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Invalid Logon</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
        </table>
    </div>

    <p>
    If the initiator sends anything else than Logon as the first message,
    the connection is terminated.
    </p>
    <div class="example">
        <table>
            <tr>
                <th>Initiator Request</th>
                <th>Resulting State</th>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Heartbeat</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Logout</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Reject</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Resend Request</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Sequence Reset</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
            <tr concordion:execute="#state = logon(#request)">
                <td concordion:set="#request">Test Request</td>
                <td concordion:assertEquals="#state">Disconnected</td>
            </tr>
        </table>
    </div>
</body>
</html>